"use strict";var src="./",BaseURL="/";function accordeon_f(o){var t=document.querySelector(".accordeon"),r=t.querySelector("ul"),e=t.querySelectorAll("li"),n=void 0;function a(t){t.classList.contains("_active")?t.classList.remove("_active"):(n.forEach(function(t,e){t.classList.remove("_active")}),t.classList.add("_active"))}e.forEach(function(t){return t.remove()}),o.forEach(function(t,e){var n;n='<li class="accordeon__el">\n\t\t\t<div class="accordeon__box">\n\t\t\t\t<h4 class="title _s">'.concat(t.title,"</h4>")+(o.length<10?'<span class="accordeon__number">0'.concat(e+1,"</span>"):'<span class="accordeon__number">'.concat(e+1,"</span>"))+'\n\t\t\t\t<p class="text accordeon__preview">'.concat(t.preview,'</p>\n\t\t\t\t<p class="text accordeon__content scroll_1">').concat(t.text,'</p>\n\t\t\t</div>\n\t\t\t<svg class="accordeon__btn">\n\t\t\t\t<use xlink:href="').concat(src,'assets/svg/sprite.svg#arrow"></use>\n\t\t\t</svg>\n\t\t\t<div class="hr"></div>\n\t\t</li>'),r.insertAdjacentHTML("beforeend",n)}),(n=t.querySelectorAll("li"))[0].classList.add("_active"),n.forEach(function(t,e){var n=t.querySelector(".accordeon__btn"),o=t.querySelector(".title");n.onclick=function(){return a(t)},o.onclick=function(){return a(t)}}),anchors_acc()}function anchors_acc(){var i=document.querySelector(".accordeon").querySelectorAll("li"),t=i.length-1,s=i[t],l=document.querySelector(".accordeon-scroll");l.onclick=function(t){var e,n,o,r=t.pageY,a=getCoords(s,"top center").y-r+(t.clientY-window.innerHeight/2)+36*window.innerHeight/100,c=a;l.classList.contains("_active")?i.forEach(function(t){return t.classList.remove("_active")}):(e=c,n=a,o=setInterval(function(){0<e?(window.scrollBy(0,2),e-=2):(clearInterval(o),e=n)},1),i.forEach(function(t,e){setTimeout(function(){t.classList.add("_active")},400*e)})),l.classList.toggle("_active")}}function add_sevices(t){var n=document.querySelector(".services__list");n.querySelectorAll("li").forEach(function(t){return t.remove()}),t.forEach(function(t,e){n.insertAdjacentHTML("beforeEnd",'<li class="services__el" data-aos="fade-up">\n\t\t\t<div class="services__box">\n\t\t\t\t<h4 class="title _s">'.concat(t.name,'</h4>\n\t\t\t\t<p class="text">').concat(t.text,'</p>\n\t\t\t</div>\n\n\t\t\t<div class="hr"></div>\n\t\t</li>'))}),AOS.refresh}function connection_btn_f(){var t=document.querySelector(".connection__logo");t.onclick=function(){t.parentNode.classList.toggle("_active")}}function hamburger(){var n=document.querySelector(".hamburger"),t=document.querySelector(".nav__list"),e=document.querySelectorAll(".nav__link"),o=document.querySelector(".overlay"),r=document.querySelector("body");n.onclick=function(){n.classList.toggle("_active")},setInterval(function(){n.classList.contains("_active")?(t.classList.add("hamburger-menu_active"),r.style.overflow="hidden",o.classList.add("_active")):(t.classList.remove("hamburger-menu_active"),r.style.overflow="auto",o.classList.add("_remove"))},100),o.onclick=function(){n.classList.remove("_active"),o.classList.remove("_active")},e.forEach(function(t,e){t.onclick=function(){n.classList.remove("_active")}})}function header_fix(){var t=document.querySelector(".header");document.onscroll=function(){200<window.pageYOffset?t.classList.add("header_fixed"):t.classList.remove("header_fixed")}}function slider_portfolio(t){var e=document.querySelector(".portfolio"),c=document.querySelector(".portfolio__list"),n=c.querySelectorAll("li"),i=document.querySelector(".portfolio__info"),o=i.querySelectorAll("li"),r=e.querySelector("._prev"),a=e.querySelector("._next"),s=e.querySelector(".portfolio__active"),l=e.querySelector(".portfolio__length"),d=0,u=t.length;function f(){c.style.transform="translateX(-".concat(100*d,"%)"),i.style.transform="translateY(".concat(100*d,"%)"),function(){var t,e;e=u<10?"/0".concat(u):"/".concat(u);t=d+1<10?"0".concat(d+1):"".concat(d+1);s.textContent=t,l.textContent=e}(),0==d?r.disabled=!0:d==u-1?a.disabled=!0:(r.disabled=!1,a.disabled=!1)}a.onclick=function(){return d<u-1&&d++,void f()},r.onclick=function(){return 0<d&&d--,void f()},f(),n.forEach(function(t){return t.remove()}),o.forEach(function(t){return t.remove()}),t.forEach(function(t,e){c.insertAdjacentHTML("beforeEnd",'<li class="portfolio__img">\n\t\t\t\t\t<img src="'.concat(src,"assets/images/portfolio/").concat(t.img,'.jpg">\n\t\t\t\t</li>'));var n='<li class="portfolio__el ">\n\t\t\t\t\t<h3 class="title _m">'.concat(t.title,'</h3>\n\t\t\t\t\t<div class="text scroll_1">\n\t\t\t\t\t\t<p>').concat(t.text[0],"</p>"),o="";t.list&&t.list.forEach(function(t){return o+='<div class="portfolio-text-list">'.concat(t,"</div>")});var r="";t.text[1]&&(r="<p>".concat(t.text[1],"</p>"));var a=n+o+r+"</div></li>";i.insertAdjacentHTML("beforeEnd",a)})}connection_btn_f(),hamburger(),header_fix();var team_slider=new Splide("#team-slider",{pagination:!1,arrows:!1,speed:300}).mount();function team_slider_check(t){slide_opacity(t,data_team),team_slider_order(t,data_team),team_slider_info(t,data_team),team_slider_btns(t,data_team)}function team_addSlides(t){document.querySelector("#team-slider").querySelectorAll("li").forEach(function(t){return t.remove()}),t.forEach(function(t,e){team_slider.add('<li class="splide__slide">\n\t\t\t\t<div class="splide__box">\n\t\t\t\t\t<img src="'.concat(src,"assets/images/team/").concat(t.img,'.png">\n\t\t\t\t</div>\n\t\t\t</li>'))}),slide_opacity(0,t),team_slider_order(0,t),team_slider_info(0,t),team_slider_btns(0,t)}function slide_opacity(t,e){var n=document.querySelector("#team-slider").querySelectorAll("li");(n.forEach(function(t,e){t.classList.remove("_visible_1","_visible_2")}),t!=n.length-1)&&n[t+1].classList.add("_visible_1");if(t!=n.length-2){var o=n[t+2];o&&o.classList.add("_visible_2")}}function team_slider_order(t,e){var n,o,r=document.querySelector("#team-slider").querySelectorAll("li").length,a=document.querySelector("#team_active-index"),c=document.querySelector("#team_length");o=r<10?"/0".concat(r):"/".concat(r),n=t+1<10?"0".concat(t+1):"".concat(t+1),a.textContent=n,c.textContent=o}function team_slider_info(t,e){var n=document.querySelector(".team__info"),o=n.querySelector(".text"),r=n.querySelector(".placeholder");o.textContent="".concat(e[t].name),r.textContent="".concat(e[t].post)}function team_slider_btns(t,e){var n=document.querySelector("#s_team"),o=n.querySelector("._prev"),r=n.querySelector("._next"),a=document.querySelector(".overlay-next"),c=e.length;r.onclick=function(){team_slider.go("+"),team_slider.refresh()},o.onclick=function(){team_slider.go("-"),team_slider.refresh()},a.onclick=function(){team_slider.go("+"),team_slider.refresh()},0==t?o.disabled=!0:t==c-1?r.disabled=!0:(o.disabled=!1,r.disabled=!1)}function _createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){i=!0,a=t},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw a}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function anchors(){var t,e=_createForOfIteratorHelper(document.querySelectorAll("a[href*='#']"));try{var n=function(){var n=t.value;n.addEventListener("click",function(t){t.preventDefault();var e=n.getAttribute("href");document.querySelector(""+e).scrollIntoView({behavior:"smooth",block:"start"})})};for(e.s();!(t=e.n()).done;)n()}catch(t){e.e(t)}finally{e.f()}}function form_focus(){document.querySelectorAll('input[type="text"], textarea').forEach(function(t,e){var n=document.createElement("div");n.classList.add("focus"),t.parentNode.append(n),t.onfocus=function(){t.parentNode.classList.add("_focus","_active"),t.parentNode.classList.remove("_err"),document.querySelector(".connection").classList.remove("_active")},t.onblur=function(){""!=t.value&&" "!=t.value||t.parentNode.classList.remove("_active"),t.parentNode.classList.remove("_focus")}})}team_slider.on("moved",function(){return team_slider_check(team_slider.index)}),anchors(),AOS.init({disable:!1,startEvent:"DOMContentLoaded",initClassName:"aos-init",animatedClassName:"aos-animate",useClassNames:!1,disableMutationObserver:!1,debounceDelay:50,throttleDelay:99,offset:120,delay:0,duration:400,easing:"ease",once:!1,mirror:!1,anchorPlacement:"top-bottom"}),window.addEventListener("load",AOS.refresh),form_focus();var getCoords=function(t,e){var n,o=t.getBoundingClientRect(),r=o.top,a=o.left,c=o.width,i=o.height;switch(e){case"top left":n={x:a+window.pageXOffset,y:r+window.pageYOffset};break;case"top center":n={x:a+c/2+window.pageXOffset,y:r+window.pageYOffset};break;case"top right":n={x:a+c+window.pageXOffset,y:r+window.pageYOffset};break;case"center left":n={x:a+window.pageXOffset,y:r+i/2+window.pageYOffset};break;case"center":n={x:a+c/2+window.pageXOffset,y:r+i/2+window.pageYOffset};break;case"center right":n={x:a+c+window.pageXOffset,y:r+i/2+window.pageYOffset};break;case"bottom left":n={x:a+window.pageXOffset,y:r+i+window.pageYOffset};break;case"bottom center":n={x:a+c/2+window.pageXOffset,y:r+i+window.pageYOffset};break;case"bottom right":n={x:a+c+window.pageXOffset,y:r+i+window.pageYOffset}}return n};function preloading(){var t=document.querySelector(".loading");t.classList.add("_active"),setTimeout(function(){t.classList.remove("_active")},3e3)}function push_msg(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"#222",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"#fff",o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.8,r=1e3*(4<arguments.length&&void 0!==arguments[4]?arguments[4]:.4),a="\n\t\tbackground:".concat(e,";\n\t\tcolor:").concat(n,";\n\t\tposition: fixed;\n\t\tright: 0; top: 20%;\n\t\tpadding: 0.8em 2em;\n\t\tborder-top-left-radius: 1em;\n\t\tborder-bottom-left-radius: 1em;\n\t\tz-index: 1000;\n\t\ttransition: ").concat(o,"s;\n\t\ttransform: translateX(120%);\n\t");if(!document.querySelector("#_push_message_")){var c=document.createElement("div");c.id="_push_message_",c.textContent=t,c.style.cssText=a,document.body.append(c),setTimeout(function(){c.style.transform="translateX(0%)",setTimeout(function(){c.style.filter="brightness(1.8)",setTimeout(function(){c.style.filter="brightness(1)"},200)},1e3*o),setTimeout(function(){c.style.transform="translateX(120%)",setTimeout(function(){c.remove()},1e3*o)},1e3*o+r)},200)}}function sendRequest(o,r){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return new Promise(function(t,e){var n=new XMLHttpRequest;n.open(o,r),n.responseType="json",n.setRequestHeader("Content-type","application/json"),n.onload=function(){400<=n.status?e(n.response):t(n.response)},n.onerror=function(){e(n.response)},n.send(JSON.stringify(a))})}function validation(){document.querySelectorAll("form").forEach(function(e,t){var n=e.querySelectorAll("._req"),o=e.querySelectorAll("._num");n.forEach(function(t){return e=t,(n=document.createElement("div")).classList.add("err"),void e.parentNode.append(n);var e,n}),e.addEventListener("submit",function(t){t.preventDefault(),function(t){var e=(n=t,o=0,n.querySelectorAll("._req").forEach(function(t,e){t.parentNode.classList.remove("_err"),""!==t.value&&" "!==t.value||(t.parentNode.classList.add("_err"),o++)}),o);t.querySelectorAll("._req");var n,o;0===e?(POST_forms(t.id),t.querySelectorAll('input[type="text"], textarea').forEach(function(t,e){t.parentNode.classList.remove("_err"),t.value=""})):console.log("err")}(e)}),o.forEach(function(t){t.addEventListener("keydown",function(t){46==t.keyCode||8==t.keyCode||9==t.keyCode||27==t.keyCode||65==t.keyCode&&!0===t.ctrlKey||35<=t.keyCode&&t.keyCode<=39||(t.keyCode<48||57<t.keyCode)&&(t.keyCode<96||105<t.keyCode)&&t.preventDefault()})})})}preloading(),validation();var url_team="".concat(src,"resources/data/team.json"),url_portfolio="".concat(src,"resources/data/portfolio.json"),url_accordeon="".concat(src,"resources/data/accordeon.json"),url_services="".concat(src,"resources/data/services.json"),data_team=null,data_portfolio=null,data_accordeon=null,data_services=null,dom_team=void 0,dom_portfolio=void 0,dom_accordeon=void 0,dom_services=void 0;function POST_bid(t){var e=document.querySelector("#".concat(t)),n=e.querySelector('input[name="name"]'),o=e.querySelector('input[name="type"]'),r=e.querySelector('input[name="connection"]'),a=e.querySelector('input[name="cash"]'),c=e.querySelector('textarea[name="description"]'),i=e.querySelectorAll('input[name="platform"]'),s="";i.forEach(function(t,e){t.checked&&(s=t)});var l={html:'<!DOCTYPE html>\n\t<html lang="en">\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<title>3D card</title>\n\t\t<style media="screen">\n\t\t\t.wrap{\n\t\t\t\twidth:100%;\n\t\t\t\tbackground-color: #222;\n\t\t\t\tcolor: #fff;\n\t\t\t\tpadding: 50px 0;\n\t\t\t\tmargin: 0 auto;\n\t\t\t}\n\n\t\t\t.block{\n\t\t\t\twidth:500px;\n\t\t\t\tpadding:30px;\n\t\t\t\tmargin: 0 auto;\n\t\t\t\tborder:1px solid #fff;\n\t\t\t}\n\t\t\th1{text-align:center; margin-bottom: 10px;}\n\t\t\tli{}\n\t\t\tspan{color:orange;}\n\t\t\t._orange{color:orange; text-align:center; margin-bottom: 10px;}\n\t\t</style>\n\n\t</head>\n\t<body>\n\n\t\t<div class="wrap">\n\t\t\t<div class="block">\n\t\t\t\t<h1>Hedgehog</h1>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>Name: <span>'.concat(n.value,"</span></li>\n\t\t\t\t\t<li>Type: <span>").concat(o.value,"</span></li>\n\t\t\t\t\t<li>Telegram: <span>").concat(r.value,"</span></li>\n\t\t\t\t\t<li>Cash: <span>").concat(a.value,"</span></li>\n\t\t\t\t\t<li>Platform: <span>").concat(s.value,'</span></li>\n\t\t\t\t\t<li><div class="_orange">Description</div><p>').concat(c.value,"</p></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\n\t</body>\n\t</html>"),type:"bid"};sendRequest("POST","".concat(BaseURL,"mailer/"),l).then(function(t){"success"==t.status&&push_msg("Успешно","#1EB039")}).catch(function(t){return console.log(t)})}function POST_contact(t){var e=document.querySelector("#".concat(t)),n=e.querySelector('input[name="name"]'),o=e.querySelector('input[name="number"]'),r=e.querySelector('input[name="mail"]'),a=e.querySelector('input[name="telegram"]'),c=e.querySelector('textarea[name="description"]'),i={html:'<!DOCTYPE html>\n\t<html lang="en">\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<title>3D card</title>\n\t\t<style media="screen">\n\t\t\t.wrap{\n\t\t\t\twidth:100%;\n\t\t\t\tbackground-color: #222;\n\t\t\t\tcolor: #fff;\n\t\t\t\tpadding: 50px 0;\n\t\t\t\tmargin: 0 auto;\n\t\t\t}\n\n\t\t\t.block{\n\t\t\t\twidth:500px;\n\t\t\t\tpadding:30px;\n\t\t\t\tmargin: 0 auto;\n\t\t\t\tborder:1px solid #fff;\n\t\t\t}\n\t\t\th1{text-align:center; margin-bottom: 10px;}\n\t\t\tli{}\n\t\t\tspan{color:orange;}\n\t\t\t._orange{color:orange; text-align:center; margin-bottom: 10px;}\n\t\t</style>\n\n\t</head>\n\t<body>\n\n\t\t<div class="wrap">\n\t\t\t<div class="block">\n\t\t\t\t<h1>Hedgehog</h1>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>Name: <span>'.concat(n.value,"</span></li>\n\t\t\t\t\t<li>Number: <span>").concat(o.value,"</span></li>\n\t\t\t\t\t<li>Telegram: <span>").concat(a.value,"</span></li>\n\t\t\t\t\t<li>Mail: <span>").concat(r.value,'</span></li>\n\t\t\t\t\t<li><div class="_orange">Description</div><p>').concat(c.value,"</p></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\n\t</body>\n\t</html>"),type:"contact"};sendRequest("POST","".concat(BaseURL,"mailer/"),i).then(function(t){"success"==t.status&&push_msg("Успешно","#1EB039")}).catch(function(t){return console.log(t)})}sendRequest("GET",url_team).then(function(t){team_addSlides(data_team=t.team)}).then(function(t){var e=document.querySelector("#team-slider");dom_team=e.querySelectorAll("li")}).catch(function(t){return console.log(t)}),sendRequest("GET",url_portfolio).then(function(t){slider_portfolio(data_portfolio=t.portfolio)}).catch(function(t){return console.log(t)}),sendRequest("GET",url_accordeon).then(function(t){accordeon_f(data_accordeon=t.accordeon)}).catch(function(t){return console.log(t)}),sendRequest("GET",url_services).then(function(t){add_sevices(data_services=t.services)}).catch(function(t){return console.log(t)});var data={name:"alimbo",description:"deskr",number:"8999491096",telegram:"telassds",mail:"alimbo@gmail.com"};function POST_forms(t){"form-bid"==t&&POST_bid(t),"form-contact"==t&&POST_contact(t)}