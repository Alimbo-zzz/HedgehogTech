"use strict";var src="./";function _createForOfIteratorHelper(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,i=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){i=!0,c=e},f:function(){try{a||null==o.return||o.return()}finally{if(i)throw c}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function anchors(){var e,t=_createForOfIteratorHelper(document.querySelectorAll("a[href*='#']"));try{var o=function(){var o=e.value;o.addEventListener("click",function(e){e.preventDefault();var t=o.getAttribute("href");document.querySelector(""+t).scrollIntoView({behavior:"smooth",block:"start"})})};for(t.s();!(e=t.n()).done;)o()}catch(e){t.e(e)}finally{t.f()}}function form_focus(){document.querySelectorAll('input[type="text"], textarea').forEach(function(e,t){var o=document.createElement("div");o.classList.add("focus"),e.parentNode.append(o),e.onfocus=function(){e.parentNode.classList.add("_focus","_active"),e.parentNode.classList.remove("_err"),document.querySelector(".connection").classList.remove("_active")},e.onblur=function(){""!=e.value&&" "!=e.value||e.parentNode.classList.remove("_active"),e.parentNode.classList.remove("_focus")}})}anchors(),AOS.init({disable:!1,startEvent:"DOMContentLoaded",initClassName:"aos-init",animatedClassName:"aos-animate",useClassNames:!1,disableMutationObserver:!1,debounceDelay:50,throttleDelay:99,offset:120,delay:0,duration:400,easing:"ease",once:!1,mirror:!1,anchorPlacement:"top-bottom"}),window.addEventListener("load",AOS.refresh),form_focus();var getCoords=function(e,t){var o,n=e.getBoundingClientRect(),r=n.top,c=n.left,a=n.width,i=n.height;switch(t){case"top left":o={x:c+window.pageXOffset,y:r+window.pageYOffset};break;case"top center":o={x:c+a/2+window.pageXOffset,y:r+window.pageYOffset};break;case"top right":o={x:c+a+window.pageXOffset,y:r+window.pageYOffset};break;case"center left":o={x:c+window.pageXOffset,y:r+i/2+window.pageYOffset};break;case"center":o={x:c+a/2+window.pageXOffset,y:r+i/2+window.pageYOffset};break;case"center right":o={x:c+a+window.pageXOffset,y:r+i/2+window.pageYOffset};break;case"bottom left":o={x:c+window.pageXOffset,y:r+i+window.pageYOffset};break;case"bottom center":o={x:c+a/2+window.pageXOffset,y:r+i+window.pageYOffset};break;case"bottom right":o={x:c+a+window.pageXOffset,y:r+i+window.pageYOffset}}return o};function preloading(){var e=document.querySelector(".loading");e.classList.add("_active"),setTimeout(function(){e.classList.remove("_active")},3e3)}function push_msg(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"#222",o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"#fff",n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.8,r=1e3*(4<arguments.length&&void 0!==arguments[4]?arguments[4]:.4),c="\n\t\tbackground:".concat(t,";\n\t\tcolor:").concat(o,";\n\t\tposition: fixed;\n\t\tright: 0; top: 20%;\n\t\tpadding: 0.8em 2em;\n\t\tborder-top-left-radius: 1em;\n\t\tborder-bottom-left-radius: 1em;\n\t\tz-index: 1000;\n\t\ttransition: ").concat(n,"s;\n\t\ttransform: translateX(120%);\n\t");if(!document.querySelector("#_push_message_")){var a=document.createElement("div");a.id="_push_message_",a.textContent=e,a.style.cssText=c,document.body.append(a),setTimeout(function(){a.style.transform="translateX(0%)",setTimeout(function(){a.style.filter="brightness(1.8)",setTimeout(function(){a.style.filter="brightness(1)"},200)},1e3*n),setTimeout(function(){a.style.transform="translateX(120%)",setTimeout(function(){a.remove()},1e3*n)},1e3*n+r)},200)}}function sendRequest(n,r){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return new Promise(function(e,t){var o=new XMLHttpRequest;o.open(n,r),o.responseType="json",o.setRequestHeader("Content-type","application/json"),o.onload=function(){400<=o.status?t(o.response):e(o.response)},o.onerror=function(){t(o.response)},o.send(JSON.stringify(c))})}function validation(){document.querySelectorAll("form").forEach(function(t,e){var o=t.querySelectorAll("._req"),n=t.querySelectorAll("._num");o.forEach(function(e){return t=e,(o=document.createElement("div")).classList.add("err"),void t.parentNode.append(o);var t,o}),t.addEventListener("submit",function(e){e.preventDefault(),function(e){var t=(o=e,n=0,o.querySelectorAll("._req").forEach(function(e,t){e.parentNode.classList.remove("_err"),""!==e.value&&" "!==e.value||(e.parentNode.classList.add("_err"),n++)}),n);e.querySelectorAll("._req");var o,n;0===t?(POST_forms(e.id),e.querySelectorAll('input[type="text"], textarea').forEach(function(e,t){e.parentNode.classList.remove("_err"),e.value=""})):console.log("err")}(t)}),n.forEach(function(e){e.addEventListener("keydown",function(e){46==e.keyCode||8==e.keyCode||9==e.keyCode||27==e.keyCode||65==e.keyCode&&!0===e.ctrlKey||35<=e.keyCode&&e.keyCode<=39||(e.keyCode<48||57<e.keyCode)&&(e.keyCode<96||105<e.keyCode)&&e.preventDefault()})})})}function accordeon_f(n){var e=document.querySelector(".accordeon"),r=e.querySelector("ul"),t=e.querySelectorAll("li"),o=void 0;function c(e){e.classList.contains("_active")?e.classList.remove("_active"):(o.forEach(function(e,t){e.classList.remove("_active")}),e.classList.add("_active"))}t.forEach(function(e){return e.remove()}),n.forEach(function(e,t){var o;o='<li class="accordeon__el">\n\t\t\t<div class="accordeon__box">\n\t\t\t\t<h4 class="title _s">'.concat(e.title,"</h4>")+(n.length<10?'<span class="accordeon__number">0'.concat(t+1,"</span>"):'<span class="accordeon__number">'.concat(t+1,"</span>"))+'\n\t\t\t\t<p class="text accordeon__preview">'.concat(e.preview,'</p>\n\t\t\t\t<p class="text accordeon__content scroll_1">').concat(e.text,'</p>\n\t\t\t</div>\n\t\t\t<svg class="accordeon__btn">\n\t\t\t\t<use xlink:href="').concat(src,'assets/svg/sprite.svg#arrow"></use>\n\t\t\t</svg>\n\t\t\t<div class="hr"></div>\n\t\t</li>'),r.insertAdjacentHTML("beforeend",o)}),(o=e.querySelectorAll("li"))[0].classList.add("_active"),o.forEach(function(e,t){var o=e.querySelector(".accordeon__btn"),n=e.querySelector(".title");o.onclick=function(){return c(e)},n.onclick=function(){return c(e)}}),anchors_acc()}function anchors_acc(){var i=document.querySelector(".accordeon").querySelectorAll("li"),e=i.length-1,s=i[e],l=document.querySelector(".accordeon-scroll");l.onclick=function(e){var t,o,n,r=e.pageY,c=getCoords(s,"top center").y-r+(e.clientY-window.innerHeight/2)+36*window.innerHeight/100,a=c;l.classList.contains("_active")?i.forEach(function(e){return e.classList.remove("_active")}):(t=a,o=c,n=setInterval(function(){0<t?(window.scrollBy(0,2),t-=2):(clearInterval(n),t=o)},1),i.forEach(function(e,t){setTimeout(function(){e.classList.add("_active")},400*t)})),l.classList.toggle("_active")}}function add_sevices(e){var o=document.querySelector(".services__list");o.querySelectorAll("li").forEach(function(e){return e.remove()}),e.forEach(function(e,t){o.insertAdjacentHTML("beforeEnd",'<li class="services__el" data-aos="fade-up">\n\t\t\t<div class="services__box">\n\t\t\t\t<h4 class="title _s">'.concat(e.name,'</h4>\n\t\t\t\t<p class="text">').concat(e.text,'</p>\n\t\t\t</div>\n\n\t\t\t<div class="hr"></div>\n\t\t</li>'))}),AOS.refresh}function connection_btn_f(){var e=document.querySelector(".connection__logo");e.onclick=function(){e.parentNode.classList.toggle("_active")}}function hamburger(){var o=document.querySelector(".hamburger"),e=document.querySelector(".nav__list"),t=document.querySelectorAll(".nav__link"),n=document.querySelector(".overlay"),r=document.querySelector("body");o.onclick=function(){o.classList.toggle("_active")},setInterval(function(){o.classList.contains("_active")?(e.classList.add("hamburger-menu_active"),r.style.overflow="hidden",n.classList.add("_active")):(e.classList.remove("hamburger-menu_active"),r.style.overflow="auto",n.classList.add("_remove"))},100),n.onclick=function(){o.classList.remove("_active"),n.classList.remove("_active")},t.forEach(function(e,t){e.onclick=function(){o.classList.remove("_active")}})}function header_fix(){var e=document.querySelector(".header");document.onscroll=function(){200<window.pageYOffset?e.classList.add("header_fixed"):e.classList.remove("header_fixed")}}function slider_portfolio(e){var t=document.querySelector(".portfolio"),a=document.querySelector(".portfolio__list"),o=a.querySelectorAll("li"),i=document.querySelector(".portfolio__info"),n=i.querySelectorAll("li"),r=t.querySelector("._prev"),c=t.querySelector("._next"),s=t.querySelector(".portfolio__active"),l=t.querySelector(".portfolio__length"),u=0,d=e.length;function f(){a.style.transform="translateX(-".concat(100*u,"%)"),i.style.transform="translateY(".concat(100*u,"%)"),function(){var e,t;t=d<10?"/0".concat(d):"/".concat(d);e=u+1<10?"0".concat(u+1):"".concat(u+1);s.textContent=e,l.textContent=t}(),0==u?r.disabled=!0:u==d-1?c.disabled=!0:(r.disabled=!1,c.disabled=!1)}c.onclick=function(){return u<d-1&&u++,void f()},r.onclick=function(){return 0<u&&u--,void f()},f(),o.forEach(function(e){return e.remove()}),n.forEach(function(e){return e.remove()}),e.forEach(function(e,t){a.insertAdjacentHTML("beforeEnd",'<li class="portfolio__img">\n\t\t\t\t\t<img src="'.concat(src,"assets/images/portfolio/").concat(e.img,'.jpg">\n\t\t\t\t</li>'));var o='<li class="portfolio__el ">\n\t\t\t\t\t<h3 class="title _m">'.concat(e.title,'</h3>\n\t\t\t\t\t<div class="text scroll_1">\n\t\t\t\t\t\t<p>').concat(e.text[0],"</p>"),n="";e.list&&e.list.forEach(function(e){return n+='<div class="portfolio-text-list">'.concat(e,"</div>")});var r="";e.text[1]&&(r="<p>".concat(e.text[1],"</p>"));var c=o+n+r+"</div></li>";i.insertAdjacentHTML("beforeEnd",c)})}preloading(),validation(),connection_btn_f(),hamburger(),header_fix();var team_slider=new Splide("#team-slider",{pagination:!1,arrows:!1,speed:300}).mount();function team_slider_check(e){slide_opacity(e,data_team),team_slider_order(e,data_team),team_slider_info(e,data_team),team_slider_btns(e,data_team)}function team_addSlides(e){document.querySelector("#team-slider").querySelectorAll("li").forEach(function(e){return e.remove()}),e.forEach(function(e,t){team_slider.add('<li class="splide__slide">\n\t\t\t\t<div class="splide__box">\n\t\t\t\t\t<img src="'.concat(src,"assets/images/team/").concat(e.img,'.png">\n\t\t\t\t</div>\n\t\t\t</li>'))}),slide_opacity(0,e),team_slider_order(0,e),team_slider_info(0,e),team_slider_btns(0,e)}function slide_opacity(e,t){var o=document.querySelector("#team-slider").querySelectorAll("li");(o.forEach(function(e,t){e.classList.remove("_visible_1","_visible_2")}),e!=o.length-1)&&o[e+1].classList.add("_visible_1");if(e!=o.length-2){var n=o[e+2];n&&n.classList.add("_visible_2")}}function team_slider_order(e,t){var o,n,r=document.querySelector("#team-slider").querySelectorAll("li").length,c=document.querySelector("#team_active-index"),a=document.querySelector("#team_length");n=r<10?"/0".concat(r):"/".concat(r),o=e+1<10?"0".concat(e+1):"".concat(e+1),c.textContent=o,a.textContent=n}function team_slider_info(e,t){var o=document.querySelector(".team__info"),n=o.querySelector(".text"),r=o.querySelector(".placeholder");n.textContent="".concat(t[e].name),r.textContent="".concat(t[e].post)}function team_slider_btns(e,t){var o=document.querySelector("#s_team"),n=o.querySelector("._prev"),r=o.querySelector("._next"),c=document.querySelector(".overlay-next"),a=t.length;r.onclick=function(){team_slider.go("+"),team_slider.refresh()},n.onclick=function(){team_slider.go("-"),team_slider.refresh()},c.onclick=function(){team_slider.go("+"),team_slider.refresh()},0==e?n.disabled=!0:e==a-1?r.disabled=!0:(n.disabled=!1,r.disabled=!1)}team_slider.on("moved",function(){return team_slider_check(team_slider.index)});var url_team="".concat(src,"resources/data/team.json"),url_portfolio="".concat(src,"resources/data/portfolio.json"),url_accordeon="".concat(src,"resources/data/accordeon.json"),url_services="".concat(src,"resources/data/services.json"),data_team=null,data_portfolio=null,data_accordeon=null,data_services=null,dom_team=void 0,dom_portfolio=void 0,dom_accordeon=void 0,dom_services=void 0;function POST_bid(e){var t=document.querySelector("#".concat(e)),o=t.querySelector('input[name="name"]'),n=t.querySelector('input[name="type"]'),r=t.querySelector('input[name="connection"]'),c=t.querySelector('input[name="cash"]'),a=t.querySelector('textarea[name="description"]'),i=t.querySelectorAll('input[name="platform"]'),s="";i.forEach(function(e,t){e.checked&&(s=e)});var l={data:{name:o.value,type:n.value,connection:r.value,cash:c.value,platform:s.value,description:a.value},form:""};console.log(l),sendRequest("POST","/project/",l).then(function(e){"success"==e.status&&push_msg("Успешно","#1EB039")}).catch(function(e){return console.log(e)})}function POST_contact(e){var t=document.querySelector("#".concat(e)),o=t.querySelector('input[name="name"]'),n=t.querySelector('input[name="number"]'),r=t.querySelector('input[name="mail"]'),c=t.querySelector('input[name="telegram"]'),a=t.querySelector('textarea[name="description"]');sendRequest("POST","/contact/",{data:{name:o.value,number:n.value,mail:r.value,telegram:c.value,description:a.value},form:"<h1>hello Den!</h1>"}).then(function(e){"success"==e.status&&push_msg("Успешно","#1EB039")}).catch(function(e){return console.log(e)})}function POST_forms(e){"form-bid"==e&&POST_bid(e),"form-contact"==e&&POST_contact(e)}sendRequest("GET",url_team).then(function(e){team_addSlides(data_team=e.team)}).then(function(e){var t=document.querySelector("#team-slider");dom_team=t.querySelectorAll("li")}).catch(function(e){return console.log(e)}),sendRequest("GET",url_portfolio).then(function(e){slider_portfolio(data_portfolio=e.portfolio)}).catch(function(e){return console.log(e)}),sendRequest("GET",url_accordeon).then(function(e){accordeon_f(data_accordeon=e.accordeon)}).catch(function(e){return console.log(e)}),sendRequest("GET",url_services).then(function(e){add_sevices(data_services=e.services)}).catch(function(e){return console.log(e)});